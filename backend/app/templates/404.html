<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåç World.Inc - 404 Mission Not Found</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
</head>
<body class="auth-body">
    <!-- Animated Background -->
    <div class="auth-background">
        <div class="floating-icon" style="--delay: 0s; --duration: 8s;">
            <i class="fas fa-question-circle"></i>
        </div>
        <div class="floating-icon" style="--delay: 2s; --duration: 10s;">
            <i class="fas fa-search"></i>
        </div>
        <div class="floating-icon" style="--delay: 4s; --duration: 12s;">
            <i class="fas fa-map-marked-alt"></i>
        </div>
        <div class="floating-icon" style="--delay: 6s; --duration: 9s;">
            <i class="fas fa-compass"></i>
        </div>
        <div class="floating-icon" style="--delay: 1s; --duration: 11s;">
            <i class="fas fa-satellite-dish"></i>
        </div>
    </div>

    <div class="auth-container">
        <!-- Logo Section -->
        <div class="auth-logo">
            <i class="fas fa-satellite-dish text-warning"></i>
            <h1 class="auth-title">SIGNAL LOST</h1>
            <p class="auth-subtitle">üõ∞Ô∏è Lokalizacja misji nieznana</p>
        </div>

        <!-- 404 Card -->
        <div class="auth-card">
            <div class="auth-card-header" style="background: linear-gradient(135deg, #ffc107, #d39e00);">
                <i class="fas fa-exclamation-triangle"></i>
                <h3>404 - Mission Not Found</h3>
                <p>Obszar operacyjny niedostƒôpny</p>
            </div>

            <div class="auth-card-body">
                <!-- 404 Animation -->
                <div class="text-center mb-4">
                    <div style="font-size: 6rem; font-weight: bold; color: #ffc107; text-shadow: 0 0 20px rgba(255, 193, 7, 0.5);">
                        4<i class="fas fa-globe-americas" style="font-size: 0.8em; animation: pulse 2s infinite;"></i>4
                    </div>
                    <div class="mt-3">
                        <div class="progress mb-3" style="height: 8px;">
                            <div class="progress-bar bg-warning progress-bar-striped progress-bar-animated" 
                                 role="progressbar" style="width: 0%;" id="searchProgress"></div>
                        </div>
                        <small class="text-muted">üîç Skanowanie obszaru...</small>
                    </div>
                </div>

                <!-- Error Message -->
                <div class="alert alert-warning">
                    <h6><i class="fas fa-satellite-dish"></i> Raport Operacyjny</h6>
                    <p class="mb-2">
                        ≈ªƒÖdana lokalizacja misji nie zosta≈Ça znaleziona w naszej bazie danych. 
                        Mo≈ºliwe przyczyny:
                    </p>
                    <ul class="mb-0">
                        <li>Misja zosta≈Ça anulowana lub przeniesiona</li>
                        <li>B≈ÇƒÖd w koordynatach nawigacyjnych</li>
                        <li>Strefa czasowo niedostƒôpna</li>
                        <li>Po≈ÇƒÖczenie z centrum operacji zak≈Ç√≥cone</li>
                    </ul>
                </div>

                <!-- Navigation Options -->
                <div class="auth-links">
                    <h6><i class="fas fa-route"></i> Dostƒôpne Opcje Nawigacji:</h6>
                    
                    <div class="d-grid gap-2 mt-3">
                        <a href="{{ url_for('home') }}" class="auth-link-btn" style="background: linear-gradient(135deg, #28a745, #1e7e34);">
                            <i class="fas fa-home"></i>
                            Powr√≥t do Centrum Operacji
                        </a>
                        
                        <a href="/minigames" class="auth-link-btn" style="background: linear-gradient(135deg, #17a2b8, #0f6674);">
                            <i class="fas fa-gamepad"></i>
                            Centrum Misji Specjalnych
                        </a>
                        
                        <button class="auth-link-btn" onclick="goBack()" style="background: linear-gradient(135deg, #6c757d, #495057);">
                            <i class="fas fa-arrow-left"></i>
                            Poprzednia Lokalizacja
                        </button>
                        
                        <button class="auth-link-btn" onclick="reportProblem()" style="background: linear-gradient(135deg, #ffc107, #d39e00);">
                            <i class="fas fa-bug"></i>
                            Zg≈Ço≈õ Problem Techniczno
                        </button>
                    </div>
                </div>

                <!-- Emergency Contacts -->
                <div class="mt-4 p-3" style="background: rgba(255, 193, 7, 0.1); border-radius: 10px;">
                    <h6 class="text-warning"><i class="fas fa-headset"></i> Pomoc Techniczna</h6>
                    <small class="text-muted">
                        W przypadku problem√≥w skontaktuj siƒô z dzia≈Çem IT poprzez zg≈Çoszenie problemu 
                        lub sprawd≈∫ status systemu na stronie g≈Ç√≥wnej.
                    </small>
                </div>
            </div>
        </div>

        <!-- Quick Navigation -->
        <div class="text-center mt-4">
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <div class="d-flex justify-content-around">
                        <a href="{{ url_for('home') }}" class="text-white-50 text-decoration-none">
                            <i class="fas fa-home fa-2x"></i>
                            <div><small>Home</small></div>
                        </a>
                        <a href="/minigames" class="text-white-50 text-decoration-none">
                            <i class="fas fa-gamepad fa-2x"></i>
                            <div><small>Games</small></div>
                        </a>
                        <a href="/auth/login" class="text-white-50 text-decoration-none">
                            <i class="fas fa-sign-in-alt fa-2x"></i>
                            <div><small>Login</small></div>
                        </a>
                        <a href="/auth/register" class="text-white-50 text-decoration-none">
                            <i class="fas fa-user-plus fa-2x"></i>
                            <div><small>Register</small></div>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer Info -->
        <div class="auth-back mt-4">
            <small class="text-white-50">
                <i class="fas fa-shield-alt"></i> 
                World.Inc Security Protocol Active | 
                Error Code: WI-404-NF | 
                <span id="currentTime"></span>
            </small>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Simulate scanning progress
        function simulateScanning() {
            const progressBar = document.getElementById('searchProgress');
            let progress = 0;
            
            const interval = setInterval(() => {
                progress += Math.random() * 15;
                if (progress > 100) {
                    progress = 100;
                    clearInterval(interval);
                    
                    // Change text when scanning complete
                    setTimeout(() => {
                        document.querySelector('.progress').nextElementSibling.innerHTML = 
                            '<span class="text-danger">‚ùå Lokalizacja nie znaleziona</span>';
                    }, 500);
                }
                progressBar.style.width = progress + '%';
            }, 300);
        }

        // Go back function
        function goBack() {
            if (window.history.length > 1) {
                window.history.back();
            } else {
                window.location.href = "{{ url_for('home') }}";
            }
        }

        // Report problem function
        function reportProblem() {
            const currentUrl = window.location.href;
            const userAgent = navigator.userAgent;
            const timestamp = new Date().toISOString();
            
            const reportData = {
                error_type: '404_not_found',
                url: currentUrl,
                user_agent: userAgent,
                timestamp: timestamp,
                referrer: document.referrer || 'direct'
            };
            
            // Show report confirmation
            const alert = document.createElement('div');
            alert.className = 'alert alert-success position-fixed';
            alert.style.cssText = 'top: 100px; right: 20px; z-index: 9999; max-width: 300px;';
            alert.innerHTML = `
                <i class="fas fa-check-circle"></i>
                <strong>Zg≈Çoszenie wys≈Çane!</strong><br>
                <small>Dzia≈Ç IT zosta≈Ç powiadomiony o problemie.</small>
            `;
            
            document.body.appendChild(alert);
            
            // Send report to server (in real app)
            fetch('/api/error-report', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(reportData)
            }).catch(() => {
                // Silent fail - user already got confirmation
            });
            
            setTimeout(() => {
                alert.remove();
            }, 5000);
        }

        // Update current time
        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleString('pl-PL', {
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });
            document.getElementById('currentTime').textContent = timeString;
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            switch(e.key.toLowerCase()) {
                case 'h':
                    window.location.href = "{{ url_for('home') }}";
                    break;
                case 'g':
                    window.location.href = "/minigames";
                    break;
                case 'l':
                    window.location.href = "/auth/login";
                    break;
                case 'r':
                    window.location.href = "/auth/register";
                    break;
                case 'b':
                    goBack();
                    break;
                case 'escape':
                    goBack();
                    break;
            }
        });

        // Konami Code Easter Egg
        let konamiCode = [];
        const konamiSequence = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'KeyB', 'KeyA'];
        
        document.addEventListener('keydown', function(e) {
            konamiCode.push(e.code);
            if (konamiCode.length > konamiSequence.length) {
                konamiCode.shift();
            }
            
            if (konamiCode.length === konamiSequence.length && 
                konamiCode.every((key, index) => key === konamiSequence[index])) {
                
                // Easter egg activated
                document.body.style.filter = 'hue-rotate(180deg)';
                
                const easterEgg = document.createElement('div');
                easterEgg.className = 'alert alert-success position-fixed';
                easterEgg.style.cssText = 'top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 9999;';
                easterEgg.innerHTML = `
                    <h4><i class="fas fa-gamepad"></i> Sekretny kod aktywowany!</h4>
                    <p>Gratulacje! Znalaz≈Çe≈õ ukryty kod World.Inc!</p>
                    <button class="btn btn-primary" onclick="this.parentElement.remove(); document.body.style.filter = '';">
                        <i class="fas fa-times"></i> Zamknij
                    </button>
                `;
                
                document.body.appendChild(easterEgg);
                
                // Auto-remove after 10 seconds
                setTimeout(() => {
                    if (easterEgg.parentElement) {
                        easterEgg.remove();
                        document.body.style.filter = '';
                    }
                }, 10000);
            }
        });

        // Auto-redirect suggestion
        setTimeout(() => {
            const suggestion = document.createElement('div');
            suggestion.className = 'alert alert-info position-fixed';
            suggestion.style.cssText = 'bottom: 20px; right: 20px; z-index: 9999; max-width: 300px;';
            suggestion.innerHTML = `
                <button type="button" class="btn-close" onclick="this.parentElement.remove()"></button>
                <h6><i class="fas fa-lightbulb"></i> Sugestia</h6>
                <p class="mb-2">Czy chcesz przej≈õƒá do strony g≈Ç√≥wnej?</p>
                <button class="btn btn-primary btn-sm" onclick="window.location.href='{{ url_for('home') }}'">
                    <i class="fas fa-home"></i> Tak, przejd≈∫
                </button>
            `;
            
            document.body.appendChild(suggestion);
            
            // Auto-remove after 15 seconds
            setTimeout(() => {
                if (suggestion.parentElement) {
                    suggestion.remove();
                }
            }, 15000);
        }, 10000); // Show after 10 seconds

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            simulateScanning();
            updateTime();
            setInterval(updateTime, 1000);
            
            // Add keyboard shortcuts info
            const helpInfo = document.createElement('div');
            helpInfo.className = 'alert alert-dark position-fixed';
            helpInfo.style.cssText = 'bottom: 20px; left: 20px; z-index: 999; max-width: 250px; opacity: 0.8;';
            helpInfo.innerHTML = `
                <small>
                    <i class="fas fa-keyboard"></i> 
                    <strong>Shortcuts:</strong><br>
                    <kbd>H</kbd> Home | <kbd>G</kbd> Games<br>
                    <kbd>L</kbd> Login | <kbd>B</kbd> Back
                </small>
            `;
            
            document.body.appendChild(helpInfo);
            
            // Hide help after 8 seconds
            setTimeout(() => {
                helpInfo.style.opacity = '0';
                setTimeout(() => helpInfo.remove(), 1000);
            }, 8000);
        });
    </script>
</body>
</html>